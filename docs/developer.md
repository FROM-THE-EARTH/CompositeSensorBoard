# 開発者用ドキュメント

## projects ディレクトリ

### ファイル構造

projects ディレクトリ下には各複合基板プロジェクトのディレクトリを格納します．このディレクトリをプロジェクトディレクトリと呼ぶことにします．プロジェクトディレクトリ名はプロジェクト名と同じものとします．以下は projects ディレクトリ下の構造の例です．

```
projects/
|
|- RocketBasic/
|
|- RocketAdvanced/
|
|- temp/
|
|- README.md
```

そして各プロジェクト内にも以下のような決まったファイル構造が定められています．

```
Project/
|
|- src/ (ここに sch ファイルと brd ファイルを置く)
|
|- test/
|   |
|   |- src/
|   |
|   |- README.md
|
|- (Project名).zip (ガーバーデータが入った zip ファイル)
|
|- spec.md
|
|- README.md
```

各ディレクトリおよびファイルにはそれぞれに役割があるので，その役割を果たすように内容を構成してください．プロジェクト作成時には，後述するプロジェクトディレクトリ内の各ディレクトリおよびファイルの説明をよく読んだ上で開発を進めてください．

### temp ディレクトリ
プロジェクトディレクトリのテンプレート用ディレクトリです．temp ディレクトリはプロジェクトディレクトリと同じファイル構造を持つディレクトリであり，これをコピーしてディレクトリ名をプロジェクト名に変更することで，プロジェクトディレクトリの雛形を構成できます．

### プロジェクトディレクトリ

#### src ディレクトリ
このディレクトリには EAGLE を用いて作成した複合センサ基板の sch ファイルと brd ファイルを置きます．

#### test ディレクトリ
このディレクトリは作成したセンサ基板に対してテストを行った結果についての内容を格納するためのディレクトリです．test ディレクトリ下には

- src/ (テストで用いたコードを置くディレクトリ)
- README.md (テスト内容についてのドキュメント)

を置きます．

#### (プロジェクト名).zip
この zip ファイルは src ディレクトリ内のデータから作成されたガーバーデータを含むものです．この zip を用いて発注が行えるものでなければいけません．

#### spec.md
このファイルは回路や基板の仕様について詳細に説明するためのものです．搭載部品や基板のピンアサイン，使用例などを詳細に示す必要があります．ここでの説明が詳細になるほど使いやすい基板になります．

#### README.md
このファイルはユーザーや開発者にプロジェクトの概要を示すためのファイルです．[プロジェクトオーナー](###プロジェクトオーナー)の情報もここに記載します．

### プロジェクトオーナー
プロジェクトオーナーとは各プロジェクトディレクトリの責任者のことです．プロジェクトオーナーには以下のような責任があります:

1. プロジェクトディレクトリのファイル構造を保守する
2. センサの動作確認を行う (test ディレクトリの構成)
3. プロジェクトに対してのプルリクエストに対応する

これらのオーナーのタスクはその他のプロジェクトメンバーに任せても構いませんが，責任はオーナーにある点に注意してください．


## Contributing

### プロジェクトへの参加
開発を行う場合は Github の FTE 組織アカウントに参加してください．FTE 組織アカウントへの参加をもって，各複合センサ基板プロジェクトへの参加の権利とします (つまりプロジェクトメンバーになれる資格を持ちます)．
なお，各複合センサ基板プロジェクトへの参加については，そのプロジェクトのオーナーに問い合わせた上で行ってください．

### 開発フロー
このリポジトリでは複数の複合センサ基板プロジェクトが並行に進められる必要があります．これを保証するために，プロジェクトを作成したプロジェクトオーナーはまずはじめに main ブランチからプロジェクトブランチを作成してください．プロジェクトブランチの名前はプロジェクト名にしてください．そしてそのプロジェクトの開発は全てプロジェクトブランチ上で行ってください．プロジェクト開発が終わったら (つまりプロジェクトディレクトリ内のディレクトリおよびファイルが全て構成できたら)，プロジェクトブランチを main ブランチにマージします．この際，特にコンフリクトは起こらないはずなので，main ブランチへのマージはプロジェクトオーナーが行って構いません．

開発の進め方の詳細は基本的にはプロジェクトオーナーに一任します．プロジェクトオーナーは全プロジェクトメンバーがプロジェクトブランチにプッシュするという形をとっても構いませんし，用途に応じてブランチを作成してそれをマージする形をとっても構いません．ただし，プロジェクトブランチからさらにブランチを作成する場合は以下の命名規則に従ってください:

```
(プロジェクト名):(作成するブランチ名)
```

### プルリクエスト
プロジェクトブランチから派生したブランチをプロジェクトブランチにマージさせたい場合，プロジェクトメンバーはプロジェクトオーナーに対してプルリクエストを発行する必要があるかもしれません．その場合は[プルリクエストテンプレート](./temp_req/.md)の様式に従って md ファイルを作成し，プルリクエストを行ってください (どのプロジェクトオーナーが対応すべきかをすぐに見分けられるようにするためです)．
